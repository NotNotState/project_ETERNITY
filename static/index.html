<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body onload="displaySelectedOperation()">
    <div class="container">
        <h1>Eternity Calculator</h1>
        
        <div class="calculator">
            <label for="operation">Select Operation:</label>
            <select id="operation" onchange="displaySelectedOperation()">
                <option value="arithmetic_expression">Arithmetic Expression</option>
                <option value="standard_deviation">Standard Deviation</option>
                <option value="arc_cosine">arccos Function</option>
                <option value="exponential_growth">Exponential Growth (Decay) Function</option>
                <option value="logarithmic_function">Logarithmic Function</option>
                <option value="mean_absolute_deviation">Mean Absolute Deviation (MAD)</option>
                <option value="power_function">Power Function</option>
                <option value="gamma_function">Gamma Function</option>
            </select>

            <label for="data">Enter Data (comma-separated):</label>
            <input type="text" id="data" placeholder="e.g., 1,2,3,4,5">
            
            <button id="submitButton">Calculate</button>
            <!-- <button onclick="submitCalculationV3()">Calculate</button> -->
            <!-- <button onclick="submitCalculationV2()">Calculate</button> -->
        </div>

        <span id="selectedOperation" class="operation-display"></span>
        <p class="result-display">Result: <span id="result"></span></p>
    </div>

    <script>
        function displaySelectedOperation() {
            const operation = document.getElementById("operation").value;
            const selectedOperation = document.getElementById("selectedOperation");

            let latexString = "";
            switch (operation) {
                case "standard_deviation":
                    latexString = "\\( \\sigma \\)";
                    break;
                case "arc_cosine":
                    latexString = "\\( \\arccos(x) \\)";
                    break;
                case "exponential_growth":
                    latexString = "\\( a \\cdot b^{x} \\)";
                    break;
                case "logarithmic_function":
                    latexString = "\\( \\log_{b}(x) \\)";
                    break;
                case "power_function":
                    latexString = "\\( x^{y} \\)";
                    break;
                case "gamma_function":
                    latexString = "\\( \\Gamma(x) \\)";
                    break;
                case "mean_absolute_deviation":
                    latexString = "\\( MAD \\)";
                    break;
                case "arithmetic_expression":
                    latexString = "\\( +,-,\\times, \\div \\)";
                    break;
                default:
                    latexString = operation;
            }

            selectedOperation.textContent = latexString;
            renderMathInElement(selectedOperation);
        }
    </script>
    <script type="module" src="/static/js/script.js"></script>
</body>
</html>